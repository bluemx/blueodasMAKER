"use strict";(self["webpackChunkblueodasmaker"]=self["webpackChunkblueodasmaker"]||[]).push([[16],{17016:(e,t,l)=>{l.r(t),l.d(t,{default:()=>ye});var a=l(59835),o=l(86970);const r={class:"text-caption text-bold"},s=(0,a.Uk)("ODA Básica"),u=(0,a.Uk)("Versión ODAS MAKER"),i=(0,a.Uk)("Versión ODA"),d=(0,a.Uk)("Añadir módulo"),n={style:{width:"300px"}},c={class:"bg-white rounded-borders q-pa-sm q-ma-xs"},m=(0,a.Uk)("Reiniciar"),p={class:"row full-height"},v={class:"col-2 full-height q-py-md q-px-xs"},w={class:"col-3 full-height q-py-md q-px-xs"},f={class:"col full-height q-py-md q-px-xs row column"};function b(e,t,l,b,g,_){const h=(0,a.up)("q-drawer"),y=(0,a.up)("q-tooltip"),q=(0,a.up)("q-badge"),M=(0,a.up)("q-toolbar-title"),k=(0,a.up)("q-btn"),W=(0,a.up)("q-menu"),T=(0,a.up)("q-select"),Z=(0,a.up)("q-toolbar"),x=(0,a.up)("q-header"),H=(0,a.up)("q-page-container"),A=(0,a.up)("q-layout"),S=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(S,null,{default:(0,a.w5)((()=>[(0,a.Wm)(A,{view:"lhh lpR lff"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{class:"bg-transparent q-pa-sm",modelValue:b.mediadrawer,"onUpdate:modelValue":t[0]||(t[0]=e=>b.mediadrawer=e),overlay:"",behavior:"mobile"},{default:(0,a.w5)((()=>[(0,a.Wm)(b["MediaManager"])])),_:1},8,["modelValue"]),(0,a.Wm)(x,{class:"q-ma-sm bg-transparent"},{default:(0,a.w5)((()=>[(0,a.Wm)(Z,{class:"shadow-0 bg-blue-grey-1 text-dark rounded-borders",square:""},{default:(0,a.w5)((()=>[(0,a.Wm)(M,null,{default:(0,a.w5)((()=>[(0,a._)("div",r,[s,(0,a.Wm)(q,{class:"q-ml-xs",size:"xs"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(b.oda.structure.version),1),(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[u])),_:1})])),_:1}),(0,a.Wm)(q,{class:"q-ml-xs",size:"xs",color:"grey"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(b.oda.structure.loaderVersion),1),(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[i])),_:1})])),_:1})])])),_:1}),(0,a.Wm)(k,{icon:"perm_media",size:"md",round:"",flat:"",color:"blue",onClick:t[1]||(t[1]=e=>b.mediadrawer=!b.mediadrawer)}),(0,a.Wm)(k,{icon:"add_circle",size:"md",round:"",flat:"",color:"red"},{default:(0,a.w5)((()=>[(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[d])),_:1}),(0,a.Wm)(W,{class:"bg-grey-100",onHide:b.updatePreview},{default:(0,a.w5)((()=>[(0,a._)("div",n,[(0,a._)("div",c,[(0,a.Wm)(b["ModulesPicker"],{onAdd:b.add})])])])),_:1})])),_:1}),(0,a.Wm)(T,{"bg-color":"white",modelValue:b.oda.structure.platform,"onUpdate:modelValue":t[2]||(t[2]=e=>b.oda.structure.platform=e),label:"Plataforma",options:["ASOMATE-ESP","ASOMATE-MAT","RAP-ESP","RAP-MAT","MDA"],dense:"",outlined:"","options-dense":""},null,8,["modelValue"]),(0,a.Wm)(b["BasicasFormTitle"]),(0,a.Wm)(k,{icon:"power_settings_new",size:"md",round:"",flat:"",color:"red",onClick:b.reset},{default:(0,a.w5)((()=>[(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[m])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(H,{class:"window-height"},{default:(0,a.w5)((()=>[(0,a._)("div",p,[(0,a._)("div",v,[(0,a.Wm)(b["ModulesLayers"])]),(0,a._)("div",w,[Object.entries(b.oda.activeModule).length>0?((0,a.wg)(),(0,a.j4)(b["ModuleProperties"],{key:b.oda.activeModule.id})):(0,a.kq)("",!0)]),(0,a._)("div",f,[(0,a.Wm)(b["BasicasHTML"])])])])),_:1})])),_:1})])),_:1})}var g=l(60499),_=l(61957);const h={class:"row column full-height bg-blue-grey-1 rounded-borders q-px-xs q-pb-xs"},y={class:"col-grow"},q={class:"row column full-height"},M={class:"row full-width items-center"},k=(0,a._)("div",{class:"col-6"},"Vista previa",-1),W={class:"col-6 text-right"},T=(0,a.Uk)("Ver código"),Z=(0,a.Uk)("Responsivo"),x=(0,a.Uk)("Actualizar"),H={class:"col-grow text-center"},A={class:"col-grow bg-white"};function S(e,t,l,r,s,u){const i=(0,a.up)("q-tooltip"),d=(0,a.up)("q-btn"),n=(0,a.up)("q-toolbar");return(0,a.wg)(),(0,a.iD)("div",h,[(0,a._)("div",y,[(0,a._)("div",q,[(0,a.Wm)(n,{class:"bg-blue-grey-1 col-1 rounded-borders"},{default:(0,a.w5)((()=>[(0,a._)("div",M,[k,(0,a._)("div",W,[(0,a.Wm)(d,{class:"q-mr-sm",unelevated:"",flat:"",color:"purple-6",icon:r.oda.structure.view?"dvr":"html",onClick:r.changeview,size:"sm"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[T])),_:1})])),_:1},8,["icon"]),(0,a.Wm)(d,{class:"q-mr-sm",unelevated:"",flat:"",color:"purple-8",icon:"devices",onClick:t[0]||(t[0]=e=>r.responsiveView=!r.responsiveView),size:"sm"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[Z])),_:1})])),_:1}),(0,a.Wm)(d,{class:"q-mr-sm",unelevated:"",color:"purple-6",icon:"las la-sync",onClick:r.resync,size:"sm"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[x])),_:1})])),_:1}),(0,a.Wm)(r["HTML_download"],{onDownloading:t[1]||(t[1]=e=>r.downloading=e),onResync:t[2]||(t[2]=e=>r.resync()),iframe:r.iframe},null,8,["iframe"])])])])),_:1}),(0,a.wy)((0,a._)("div",H,[r.insync?((0,a.wg)(),(0,a.iD)("iframe",{key:0,class:(0,o.C_)(["rounded-borders bg-white",r.responsiveView?"responsiveView full-height q-mx-auto":"fit"]),ref:"iframe",style:{border:"none"}},null,2)):(0,a.kq)("",!0)],512),[[_.F8,!r.oda.structure.view]]),(0,a.wy)((0,a._)("div",A,[(0,a.Wm)(r["HTML_viewcode"],{"html-modules":r.htmlModules},null,8,["html-modules"])],512),[[_.F8,r.oda.structure.view]])])])])}l(40702);var V=l(96556),O=l(37457),Q=l(18910),P=l(71184),j=l(46420),z=l(24056);const U={setup(e,{expose:t}){t();const l=(0,g.iH)(0),o=(0,g.iH)(!1),r=(0,g.iH)("loading..."),s=(0,a.f3)("EMITTER"),u=(0,g.iH)(null),i=(0,g.iH)(null),d=(0,V.X)(),n=(0,g.iH)(),c=(0,g.iH)(),m=(0,g.iH)(!0),p=(0,g.iH)(!1),v=(0,g.iH)([]),w=()=>{d.structure.view=!d.structure.view},f=async()=>{l.value=i.value.body.scrollTop,d.buildLocations(),m.value=!1,setTimeout((()=>{m.value=!0,setTimeout((()=>{b()}),100)}),100)};s.on("updatePreview",(e=>f()));const b=()=>{const e=d.structure.data.filter((e=>1==e.active));r.value=(0,P.Json2Html)(e),i.value=u.value.contentWindow.document,i.value.body.setAttribute("data",d.structure.platform),y("meta",[["charset","UTF-8"]],!1,i.value.head),y("meta",[["name","viewport"],["content","width=device-width, initial-scale=1.0"]],!1,i.value.head),y("title",[],d.structure.title,i.value.head),n.value=y("div",[["class","container mx-auto my-5"],["id","app"]],!1,i.value.body);let t="text/javascript";p.value&&(t="text/test"),y("script",[["src",d.structure.loader],["data-loader-version",d.structure.loaderVersion],["type",t]],!1,i.value.body),h()},_=e=>{let t=e,l=[];for(const a in t){let e=t[a];if("object"==typeof e){let t="";Object.keys(e).map(((l,a)=>{t+=" "+e[l]})),e=t}l.push([a,e])}return l},h=()=>{y("oda-titulo",[["title",d.structure.title],["subtitle",d.structure.subtitle]],!1,n.value),c.value=y("div",[],!1,n.value),c.value.innerHTML=r.value,y("oda-finalizar",[],!1,n.value),setTimeout((()=>{u.value.contentWindow.scrollTo(0,l.value)}),200)},y=(e,t,l,a)=>{let o=i.value.createElement(e);for(let r of t)o.setAttribute(r[0],r[1]);return l&&(o.innerHTML+=l),a.appendChild(o),o},q=(e,t,l,a)=>{let o=i.value.createElement(e);for(let r of t)o.setAttribute(r[0],r[1]);return l&&l.map(((e,t)=>{let a=l[t];a&&("string"==typeof a?o.innerHTML+=a:a&&null!=a.data&&M(o,a.data))})),v.value.push(o),a.appendChild(o),o},M=(e,t)=>{q(t.tag,_(t.attrs),t.content,e)};(0,a.bv)((()=>{b()}));const k={currentScroll:l,responsiveView:o,htmlModules:r,emitter:s,iframe:u,iDoc:i,oda:d,appcontainer:n,modulescontainer:c,insync:m,downloading:p,htmlbody:v,changeview:w,resync:f,build:b,modulateAttributes:_,buildModules:h,createTag:y,createModule:q,createModuleInside:M,ref:g.iH,onMounted:a.bv,inject:a.f3,useOdaBasicaStore:V.X,useOdaAvanzadaStore:O.k,useRoute:Q.yj,Json2Html:P.Json2Html,HTML_viewcode:j.Z,HTML_download:z.Z};return Object.defineProperty(k,"__isScriptSetup",{enumerable:!1,value:!0}),k}};var L=l(11639),R=l(51663),B=l(24455),D=l(46858),C=l(69984),E=l.n(C);const J=(0,L.Z)(U,[["render",S]]),X=J;E()(U,"components",{QToolbar:R.Z,QBtn:B.Z,QTooltip:D.Z});const F={class:"row col-grow"},I={class:"col-grow"},N={class:"col-grow"};function G(e,t,l,o,r,s){const u=(0,a.up)("q-input");return(0,a.wg)(),(0,a.iD)("div",F,[(0,a._)("div",I,[(0,a.Wm)(u,{modelValue:o.oda.structure.title,"onUpdate:modelValue":t[0]||(t[0]=e=>o.oda.structure.title=e),label:"Título",dense:"",outlined:""},null,8,["modelValue"])]),(0,a._)("div",N,[(0,a.Wm)(u,{modelValue:o.oda.structure.subtitle,"onUpdate:modelValue":t[1]||(t[1]=e=>o.oda.structure.subtitle=e),label:"Subtítulo",dense:"",outlined:""},null,8,["modelValue"])])])}const K={setup(e,{expose:t}){t();const l=(0,V.X)(),o={oda:l,useOdaBasicaStore:V.X,useOdaAvanzadaStore:O.k,useRoute:Q.yj,ref:g.iH,onMounted:a.bv,inject:a.f3};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}};var Y=l(5698),$=l(66611);const ee=(0,L.Z)(K,[["render",G]]),te=ee;E()(K,"components",{QSelect:Y.Z,QInput:$.Z});var le=l(21239),ae=l(60001),oe=l(50796),re=l(19302),se=l(82322),ue=l(37796),ie=l(24409),de=l(3967);const ne={setup(e,{expose:t}){t();const l=(0,a.f3)("EMITTER"),o=(0,V.X)(),r=(0,re.Z)(),s=(0,g.iH)(!1),u=e=>{const t=JSON.parse(JSON.stringify(e));let l=(0,oe.Z)().split("-");t.id=Object.keys(o.structure.data).length+l[0],o.structure.data.push(t),o.buildLocations()},i=()=>{l.emit("updatePreview",{})},d=()=>{r.dialog({title:"¿Reiniciar oda?",message:"No se podrá recuperar",cancel:!0}).onOk((()=>{o.reset(),location.reload()}))},n={emitter:l,oda:o,$q:r,mediadrawer:s,add:u,updatePreview:i,reset:d,ref:g.iH,provide:a.JJ,inject:a.f3,nextTick:a.Y3,BasicasHTML:X,BasicasFormTitle:te,ModulesLayers:le.Z,useOdaBasicaStore:V.X,useOdaAvanzadaStore:O.k,useRoute:Q.yj,ModulesPicker:ae.Z,uid:oe.Z,useQuasar:re.Z,MediaManager:se.Z,ModuleProperties:ue.Z,cloneDeep:ie.cloneDeep,useRefHistory:de.x9X};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}};var ce=l(69885),me=l(20249),pe=l(10906),ve=l(16602),we=l(81973),fe=l(20990),be=l(67236),ge=l(56362),_e=l(12133);const he=(0,L.Z)(ne,[["render",b]]),ye=he;E()(ne,"components",{QPage:ce.Z,QLayout:me.Z,QDrawer:pe.Z,QHeader:ve.Z,QToolbar:R.Z,QToolbarTitle:we.Z,QBadge:fe.Z,QTooltip:D.Z,QBtnGroup:be.Z,QBtn:B.Z,QMenu:ge.Z,QSelect:Y.Z,QPageContainer:_e.Z})}}]);